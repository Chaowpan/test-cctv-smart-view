<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CCTV SMART VIEW</title>

<style>
* {
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}
body {
  margin: 0;
  background: #f3f4f6;
}
.hidden { display: none !important; }

/* ===== Login ===== */
.login-page {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}
.login-box {
  background: white;
  padding: 32px;
  width: 320px;
  border-radius: 16px;
  box-shadow: 0 4px 10px rgba(0,0,0,.1);
}
.login-box h1 {
  text-align: center;
  margin-bottom: 20px;
}
.login-box input,
.login-box button {
  width: 100%;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: 10px;
}
.login-box input {
  border: 1px solid #ccc;
}
.login-box button {
  background: #2563eb;
  color: white;
  border: none;
  cursor: pointer;
}

/* ===== Header ===== */
header {
  background: white;
  padding: 12px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
}
header h2 {
  margin: 0;
  font-size: 18px;
}
.menu-btn {
  display: none;
  font-size: 22px;
  cursor: pointer;
}

/* ===== Layout ===== */
.container {
  display: flex;
  height: calc(100vh - 56px);
}
aside {
  width: 260px;
  background: white;
  padding: 12px;
  border-right: 1px solid #ddd;
  overflow-y: auto;
}
main {
  flex: 1;
  padding: 12px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 12px;
  overflow-y: auto;
}

/* ===== Sidebar ===== */
.floor-btn {
  width: 100%;
  padding: 12px;
  margin-bottom: 8px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  background: #e5e7eb;
}
.floor-btn.active {
  background: #2563eb;
  color: white;
}
.camera-item {
  background: #f9fafb;
  padding: 8px;
  border-radius: 8px;
  display: flex;
  justify-content: space-between;
  font-size: 14px;
  margin-bottom: 6px;
}

/* ===== Camera Box ===== */
.camera-box {
  background: black;
  color: white;
  border-radius: 16px;
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  text-align: center;
  padding: 10px;
}

/* ===== Fullscreen ===== */
.fullscreen {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.95);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
  color: white;
  font-size: 24px;
}
.close-btn {
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 30px;
  cursor: pointer;
}

/* ===== Mobile ===== */
@media (max-width: 768px) {
  .menu-btn {
    display: block;
  }
  .container {
    flex-direction: column;
    height: auto;
  }
  aside {
    width: 100%;
    display: none;
    border-right: none;
    border-bottom: 1px solid #ddd;
  }
  aside.show {
    display: block;
  }
  main {
    grid-template-columns: 1fr;
  }
}
</style>
</head>

<body>

<!-- Login -->
<div id="login" class="login-page">
  <div class="login-box">
    <h1>CCTV SMART VIEW</h1>
    <input id="username" placeholder="Username">
    <input id="password" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
  </div>
</div>

<!-- Dashboard -->
<div id="dashboard" class="hidden">
<header>
  <span class="menu-btn" onclick="toggleMenu()">‚ò∞</span>
  <h2>CCTV SMART VIEW</h2>
  <div>
    üë§ <span id="userLabel"></span>
    <button onclick="logout()">Logout</button>
  </div>
</header>

<div class="container">
  <aside id="sidebar">
    <button class="floor-btn active" onclick="selectFloor('all',this)">‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πâ‡∏ô</button>
    <button class="floor-btn" onclick="selectFloor(1,this)">‡∏ä‡∏±‡πâ‡∏ô 1</button>
    <button class="floor-btn" onclick="selectFloor(2,this)">‡∏ä‡∏±‡πâ‡∏ô 2</button>
    <button class="floor-btn" onclick="selectFloor(3,this)">‡∏ä‡∏±‡πâ‡∏ô 3</button>
    <div id="cameraList"></div>
  </aside>

  <main id="cameraGrid"></main>
</div>
</div>

<!-- Fullscreen -->
<div id="fullscreen" class="fullscreen hidden">
  <div class="close-btn" onclick="closeFullscreen()">‚úï</div>
  <div id="fullscreenText"></div>
</div>

<script>
const cameras = Array.from({ length: 18 }, (_, i) => ({
  id: i + 1,
  name: `Camera ${i + 1}`,
  floor: Math.floor(i / 6) + 1,
  status: i % 3 === 1 ? "offline" : "online"
}));

let selectedFloor = "all";

function login() {
  const user = username.value.trim();
  if (!user) return alert("‡∏Å‡∏£‡∏≠‡∏Å Username");
  userLabel.innerText = user;
  login.classList.add("hidden");
  dashboard.classList.remove("hidden");
  render();
}

function logout() {
  dashboard.classList.add("hidden");
  login.classList.remove("hidden");
}

function toggleMenu() {
  sidebar.classList.toggle("show");
}

function selectFloor(floor, btn) {
  selectedFloor = floor;
  document.querySelectorAll(".floor-btn").forEach(b => b.classList.remove("active"));
  btn.classList.add("active");
  render();
}

function render() {
  cameraList.innerHTML = "";
  cameraGrid.innerHTML = "";

  const filtered = selectedFloor === "all"
    ? cameras
    : cameras.filter(c => c.floor === selectedFloor);

  filtered.forEach(cam => {
    const item = document.createElement("div");
    item.className = "camera-item";
    item.innerHTML = `${cam.name} <span style="color:${cam.status==='online'?'green':'red'}">${cam.status}</span>`;
    cameraList.appendChild(item);

    const box = document.createElement("div");
    box.className = "camera-box";
    box.innerText = cam.status === "online"
      ? `Live Stream\n${cam.name}`
      : `${cam.name}\nOffline`;
    box.onclick = () => openFullscreen(cam);
    cameraGrid.appendChild(box);
  });
}

function openFullscreen(cam) {
  fullscreenText.innerText = cam.name;
  fullscreen.classList.remove("hidden");
  fullscreen.requestFullscreen?.();
}

function closeFullscreen() {
  fullscreen.classList.add("hidden");
  document.exitFullscreen?.();
}
</script>

</body>
</html>
