<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CCTV SMART VIEW - Dashboard</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    * { box-sizing: border-box; font-family: 'Prompt', sans-serif; }

    body, html {
      margin:0; padding:0;
      background:linear-gradient(135deg, #0d1b2a 0%, #1b263b 40%, #415a77 100%);
      color:#fff;
      height:100%;
      overflow:hidden;
    }

    .layout {
      display:flex;
      height:100vh;
      overflow:hidden;
    }

    /* SIDEBAR */
    .sidebar {
      position:fixed;
      top:0; 
      left:-260px;
      width:260px;
      height:100vh;
      background:rgba(10,10,10,0.35);
      backdrop-filter:blur(14px);
      border-right:1px solid rgba(255,255,255,0.08);
      padding:26px 18px;
      display:flex;
      flex-direction:column;
      gap:10px;
      transition:0.3s ease;
      z-index:1001;
    }

    .sidebar.open {
      left:0;
    }

    .logo-area {
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:24px;
      margin-left:50px; /* ‚Üê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏±‡∏ö */
    }

    .logo-bubble {
      width:40px; height:40px;
      border-radius:12px;
      background:linear-gradient(135deg,#00b4ff,#0077ff);
      display:flex;
      justify-content:center;
      align-items:center;
      font-size:20px;
      box-shadow:0 6px 16px rgba(0,123,255,0.4);
    }

    .title { font-size:14px; font-weight:600; }
    .subtitle { font-size:12px; opacity:0.75; }

    .menu-btn {
      width:100%;
      padding:12px 12px;
      background:rgba(255,255,255,0.06);
      border:none;
      border-radius:10px;
      font-size:14px;
      color:#dbe4ed;
      text-align:left;
      cursor:pointer;
      display:flex;
      gap:8px;
      align-items:center;
      transition:0.2s ease;
      margin-left:10px; /* ‚Üê ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏±‡∏ö */
    }

    .menu-btn:hover { background:rgba(255,255,255,0.12); }
    .menu-btn.active {
      background:rgba(255,255,255,0.18);
      color:#fff;
      font-weight:600;
    }

    .menu-btn.logout {
      margin-top:auto;
      background:rgba(255,70,70,0.15);
      color:#ff7676;
    }

    .menu-btn.logout:hover { background:rgba(255,70,70,0.25); }

    .overlay {
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.5);
      backdrop-filter:blur(2px);
      z-index:1000;
    }

    .overlay.show { display:block; }

    .toggle-btn {
      position:fixed;
      top:18px;
      left:18px;
      font-size:22px;
      background:rgba(255,255,255,0.1);
      color:#fff;
      border:1px solid rgba(255,255,255,0.25);
      padding:6px 12px;
      border-radius:8px;
      cursor:pointer;
      align-items:center;
      backdrop-filter:blur(8px);
      transition:0.2s;
      z-index:2000;
    }

    .toggle-btn:hover {
      background:rgba(255,255,255,0.2);
      transform:translateY(-2px);
    }

    .main {
      flex:1;
      display:flex;
      flex-direction:column;
      overflow:hidden;
      padding:18px;
      margin-left:0;
      padding-left:70px; /* ‚Üê ‡πÉ‡∏´‡πâ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏∏‡πà‡∏° toggle */
    }

    .topbar {
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      gap:12px;
      margin-bottom:14px;
    }

    .floor-title { font-size:20px; font-weight:600; }
    .info-small { font-size:13px; opacity:0.85; }

    .stats { display:flex; gap:10px; }
    .stat-chip {
      background:rgba(255,255,255,0.14);
      padding:6px 12px;
      border-radius:14px;
      font-size:13px;
      display:flex;
      align-items:center;
      gap:6px;
      backdrop-filter:blur(8px);
    }

    .grid-wrap {
      flex:1;
      overflow-y:auto;
      padding-bottom:12px;
    }

    .grid {
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(240px,1fr));
      gap:18px;
    }

    .card {
      background:rgba(255,255,255,0.08);
      backdrop-filter:blur(12px);
      border-radius:14px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      transition:0.25s;
      box-shadow:0 4px 16px rgba(0,0,0,0.25);
    }

    .card:hover { transform:translateY(-3px); }

    .thumb {
      height:160px;
      background:#000;
      position:relative;
      display:flex;
      justify-content:center;
      align-items:center;
    }

    .thumb img {
      width:100%; height:100%;
      object-fit:cover;
    }

    .thumb .thumb-badge {
      position:absolute;
      bottom:8px;
      right:8px;
      background:rgba(0,0,0,0.6);
      padding:4px 8px;
      font-size:12px;
      border-radius:6px;
      cursor:pointer;
    }

    .card-body {
      padding:10px 14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    .cam-name { font-size:14px; font-weight:500; }

    .chip {
      padding:3px 8px;
      font-size:12px;
      border-radius:12px;
      font-weight:600;
    }

    .online  { background:rgba(46,204,113,0.25); color:#2ecc71; }
    .offline { background:rgba(231,76,60,0.25);  color:#e74c3c; }

    @media(max-width:768px){
      .grid { grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); }
    }
  </style>
</head>
<body>

<button class="toggle-btn" onclick="toggleSidebar()">‚ò∞</button>
<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<div class="layout">
  <div class="sidebar" id="sidebar">
    <div class="logo-area">
      <div class="logo-bubble">üìπ</div>
      <div>
        <div class="title">CCTV SMART VIEW</div>
        <div class="subtitle">Control Panel</div>
      </div>
    </div>

    <button class="menu-btn active" data-floor="ALL">üìã ALL FLOORS</button>
    <button class="menu-btn" data-floor="2">üè¢ FLOOR 2</button>
    <button class="menu-btn" data-floor="3">üè¨ FLOOR 3</button>
    <button class="menu-btn" onclick="location.href='map.html'">üó∫ MAP VIEW</button>
    <button class="menu-btn logout" onclick="location.href='index.html'">üö™ Logout</button>
  </div>

  <div class="main">
    <div class="topbar">
      <div>
        <div class="floor-title" id="floor-title">ALL FLOORS</div>
        <div class="info-small" id="camera-count">0 Cameras</div>
      </div>
      <div class="stats">
        <div class="stat-chip">üü¢ Online: <span id="online-count">0</span></div>
        <div class="stat-chip">üî¥ Offline: <span id="offline-count">0</span></div>
      </div>
    </div>

    <div class="grid-wrap">
      <div class="grid" id="camera-grid"></div>
    </div>
  </div>
</div>

<script>
  const cameras = [
    { id:"2-1",floor:2,name:"Stock Area 1",stream:null,image:"icons/thief.jpeg" },
    { id:"2-2",floor:2,name:"Stock Area 2",stream:true,image:"icons/thief.jpeg" },
    { id:"2-3",floor:2,name:"Stock Area 3",stream:true,image:"icons/thief.jpeg" },
    { id:"2-4",floor:2,name:"Finance",stream:true,image:"icons/thief.jpeg" },
    { id:"2-5",floor:2,name:"Walkway",stream:null,image:"icons/thief.jpeg" },
    { id:"2-6",floor:2,name:"CEO Room",stream:true,image:"icons/thief.jpeg" },
    { id:"3-1",floor:3,name:"Marketing",stream:true,image:"icons/thief.jpeg" },
    { id:"3-2",floor:3,name:"Product Dealer",stream:true,image:"icons/thief.jpeg" },
    { id:"3-3",floor:3,name:"Project Team",stream:true,image:"icons/thief.jpeg" },
    { id:"3-4",floor:3,name:"Sale Dealer",stream:null,image:"icons/thief.jpeg" },
    { id:"3-5",floor:3,name:"Cafeteria",stream:true,image:"icons/thief.jpeg" },
    { id:"3-6",floor:3,name:"Back Office",stream:true,image:"icons/thief.jpeg" },
    { id:"3-7",floor:3,name:"Meeting Room",stream:true,image:"icons/thief.jpeg" },
  ];

  let selectedFloor = "ALL";

  function toggleSidebar(){
    document.getElementById("sidebar").classList.toggle("open");
    document.getElementById("overlay").classList.toggle("show");
  }

  /* ‚úî ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Fullscreen ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ iOS/Android */
  function openFullscreen(elem){
    if(elem.requestFullscreen){
      elem.requestFullscreen();
    } else if(elem.webkitRequestFullscreen){ /* Safari / iOS */
      elem.webkitRequestFullscreen();
    } else if(elem.msRequestFullscreen){ /* IE */
      elem.msRequestFullscreen();
    }
  }

  function render(){
    const grid=document.getElementById("camera-grid");
    grid.innerHTML="";

    const filtered = selectedFloor==="ALL" ? cameras : cameras.filter(c=>c.floor==selectedFloor);

    document.getElementById("floor-title").textContent = selectedFloor==="ALL"?"ALL FLOORS":"FLOOR "+selectedFloor;
    document.getElementById("camera-count").textContent = filtered.length+" Cameras";

    const online = filtered.filter(c=>c.stream).length;
    const offline = filtered.length - online;

    document.getElementById("online-count").textContent = online;
    document.getElementById("offline-count").textContent = offline;

    filtered.forEach(cam=>{
      const card=document.createElement("div");
      card.className="card";

      const thumb=document.createElement("div");
      thumb.className="thumb";

      if(cam.stream){
        const img=document.createElement("img");
        img.src=cam.image;
        thumb.appendChild(img);

        const btn=document.createElement("div");
        btn.className="thumb-badge";
        btn.textContent="‚õ∂ Fullscreen";
        btn.onclick=()=>openFullscreen(img);
        thumb.appendChild(btn);
      } else {
        thumb.innerHTML=`<span style="font-size:28px;opacity:.5;">üì∑</span>`;
      }

      const body=document.createElement("div");
      body.className="card-body";

      body.innerHTML=`
        <span class="cam-name">${cam.name}</span>
        <span class="chip ${cam.stream?'online':'offline'}">${cam.stream?'Online':'Offline'}</span>
      `;

      card.appendChild(thumb);
      card.appendChild(body);
      grid.appendChild(card);
    });
  }

  document.querySelectorAll(".menu-btn[data-floor]").forEach(btn=>{
    btn.addEventListener("click",()=>{
      document.querySelectorAll(".menu-btn[data-floor]").forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      selectedFloor = btn.dataset.floor;
      render();
    });
  });

  render();
</script>

</body>
</html>
